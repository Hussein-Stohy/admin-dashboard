import{a as W}from"./chunk-JI62ETFE.js";import{a as I}from"./chunk-CXTII6WS.js";import{a as Y}from"./chunk-NBOPPTVV.js";import{f as q}from"./chunk-LHFNF7L7.js";import{d as v,e as z,f as j,h as B,k as D,l as L,n as U,o as $,q as G,r as O,t as H}from"./chunk-LTQKD66N.js";import{a as R}from"./chunk-2XT5PBEV.js";import{a as J}from"./chunk-HL65FGJ5.js";import{Ga as E,Ha as T,La as a,Ma as F,U as S,Xa as h,Y as k,_a as l,ac as M,bb as m,bc as V,cb as t,db as i,ea as u,eb as d,fa as g,fc as A,ga as w,ha as y,hb as x,ib as f,jb as c,qb as n,rb as C,tb as N,zb as P}from"./chunk-6YEFK35Y.js";import{d as b}from"./chunk-4CLCTAJ7.js";function Z(s,p){if(s&1){let e=x();t(0,"button",12),f("click",function(){let r=u(e).$implicit,_=c();return g(_.activeTab=r.id)}),d(1,"div",13),t(2,"span",14),n(3),i()()}if(s&2){let e=p.$implicit,o=c();m(o.getTabClasses(e.id)),a(),l("innerHTML",o.sanitizeIcon(e.icon),E),a(2),C(e.label)}}function K(s,p){if(s&1){let e=x();t(0,"app-card",15)(1,"form",16),f("ngSubmit",function(){u(e);let r=c();return g(r.saveProfile())}),t(2,"div",17)(3,"div",18),d(4,"img",19),i(),t(5,"div",20)(6,"app-button",21),w(),t(7,"svg",22),d(8,"path",23),i(),n(9," Change Avatar "),i(),y(),t(10,"p",24),n(11,"JPG, GIF or PNG. 1MB max."),i()()(),t(12,"div",25),d(13,"app-form-field",26)(14,"app-form-field",27),i(),d(15,"app-form-field",28)(16,"app-form-field",29)(17,"app-form-field",30),t(18,"div",31)(19,"app-button",32),n(20," Save Changes "),i()()()()}if(s&2){let e,o,r=c();a(),l("formGroup",r.profileForm),a(3),l("src",((e=r.currentUser())==null?null:e.avatar)||"https://ui-avatars.com/api/?name=John+Doe&background=3b82f6&color=fff",T)("alt",(o=r.currentUser())==null?null:o.name),a(9),l("required",!0)("error",r.getFieldError(r.profileForm,"firstName")),a(),l("required",!0)("error",r.getFieldError(r.profileForm,"lastName")),a(),l("required",!0)("error",r.getFieldError(r.profileForm,"email")),a(2),l("rows",4),a(2),l("loading",r.saving)}}function Q(s,p){if(s&1){let e=x();t(0,"app-button",50),f("clicked",function(){u(e);let r=c().$implicit,_=c(2);return g(_.terminateSession(r.id))}),n(1," Terminate "),i()}}function X(s,p){s&1&&(t(0,"span",51),n(1," Current Session "),i())}function ee(s,p){if(s&1&&(t(0,"div",45)(1,"div")(2,"p",46),n(3),i(),t(4,"p",47),n(5),i()(),h(6,Q,2,0,"app-button",48)(7,X,2,0,"span",49),i()),s&2){let e=p.$implicit;a(3),C(e.device),a(2),N("",e.location," \u2022 ",e.lastActive,""),a(),l("ngIf",!e.current),a(),l("ngIf",e.current)}}function te(s,p){if(s&1){let e=x();t(0,"app-card",33)(1,"div",0)(2,"form",16),f("ngSubmit",function(){u(e);let r=c();return g(r.changePassword())}),t(3,"h3",34),n(4,"Change Password"),i(),d(5,"app-form-field",35)(6,"app-form-field",36)(7,"app-form-field",37),t(8,"div",31)(9,"app-button",38),n(10," Update Password "),i()()(),t(11,"div",39)(12,"h3",40),n(13,"Two-Factor Authentication "),i(),t(14,"div",41)(15,"div")(16,"p",42),n(17,"Add an extra layer of security to your account"),i()(),t(18,"app-button",21),n(19," Enable 2FA "),i()()(),t(20,"div",39)(21,"h3",40),n(22,"Active Sessions"),i(),t(23,"div",43),h(24,ee,8,5,"div",44),i()()()()}if(s&2){let e=c();a(2),l("formGroup",e.passwordForm),a(3),l("required",!0)("error",e.getFieldError(e.passwordForm,"currentPassword")),a(),l("required",!0)("error",e.getFieldError(e.passwordForm,"newPassword")),a(),l("required",!0)("error",e.getFieldError(e.passwordForm,"confirmPassword")),a(2),l("loading",e.changing)("disabled",e.passwordForm.invalid),a(15),l("ngForOf",e.activeSessions)}}function ie(s,p){if(s&1){let e=x();t(0,"app-card",52)(1,"div",0)(2,"div")(3,"h3",40),n(4,"Appearance"),i(),t(5,"div",43)(6,"div",41)(7,"div")(8,"p",46),n(9,"Dark Mode"),i(),t(10,"p",47),n(11,"Use dark theme for better viewing in low light"),i()(),t(12,"button",12),f("click",function(){u(e);let r=c();return g(r.toggleTheme())}),d(13,"span"),i()()()(),t(14,"div",39)(15,"h3",40),n(16,"Notifications"),i(),t(17,"div",43)(18,"div",41)(19,"div")(20,"p",46),n(21,"Email Notifications"),i(),t(22,"p",47),n(23,"Receive notifications via email "),i()(),t(24,"button",12),f("click",function(){u(e);let r=c();return g(r.toggleNotification("email"))}),d(25,"span"),i()(),t(26,"div",41)(27,"div")(28,"p",46),n(29,"Push Notifications"),i(),t(30,"p",47),n(31,"Receive push notifications in browser"),i()(),t(32,"button",12),f("click",function(){u(e);let r=c();return g(r.toggleNotification("push"))}),d(33,"span"),i()(),t(34,"div",41)(35,"div")(36,"p",46),n(37,"Weekly Reports"),i(),t(38,"p",47),n(39,"Receive weekly analytics reports "),i()(),t(40,"button",12),f("click",function(){u(e);let r=c();return g(r.toggleNotification("reports"))}),d(41,"span"),i()()()(),t(42,"div",39)(43,"h3",40),n(44,"Language & Region"),i(),t(45,"div",25)(46,"div")(47,"label",53),n(48," Language "),i(),t(49,"select",54)(50,"option",55),n(51,"English"),i(),t(52,"option",56),n(53,"Spanish"),i(),t(54,"option",57),n(55,"French"),i(),t(56,"option",58),n(57,"German"),i()()(),t(58,"div")(59,"label",53),n(60," Timezone "),i(),t(61,"select",54)(62,"option",59),n(63,"UTC"),i(),t(64,"option",60),n(65,"Eastern Time"),i(),t(66,"option",61),n(67,"Central Time"),i(),t(68,"option",62),n(69,"Mountain Time"),i(),t(70,"option",63),n(71,"Pacific Time"),i()()()()()()()}if(s&2){let e=c();a(12),m(e.getToggleClasses(e.currentTheme()==="dark")),a(),m(e.getToggleButtonClasses(e.currentTheme()==="dark")),a(11),m(e.getToggleClasses(e.notificationSettings.email)),a(),m(e.getToggleButtonClasses(e.notificationSettings.email)),a(7),m(e.getToggleClasses(e.notificationSettings.push)),a(),m(e.getToggleButtonClasses(e.notificationSettings.push)),a(7),m(e.getToggleClasses(e.notificationSettings.reports)),a(),m(e.getToggleButtonClasses(e.notificationSettings.reports))}}function re(s,p){s&1&&(t(0,"app-card",64)(1,"div",0)(2,"div")(3,"h3",40),n(4,"Export Data"),i(),t(5,"p",65),n(6," Download a copy of your account data in JSON format. "),i(),t(7,"app-button",66),w(),t(8,"svg",22),d(9,"path",67),i(),n(10," Export Data "),i()(),y(),t(11,"div",39)(12,"div",68)(13,"h3",69),n(14,"Danger Zone"),i(),t(15,"p",70),n(16," Once you delete your account, there is no going back. Please be certain. "),i(),t(17,"app-button",71),n(18," Delete Account "),i()()()()())}var xe=(()=>{class s{constructor(e){this.fb=e,this.authService=S(I),this.themeService=S(W),this.sanitizer=S(q),this.currentUser=this.authService.getCurrentUser(),this.currentTheme=this.themeService.getCurrentTheme(),this.activeTab="profile",this.saving=!1,this.changing=!1,this.notificationSettings={email:!0,push:!1,reports:!0},this.activeSessions=[{id:"1",device:"Chrome on Windows",location:"New York, NY",lastActive:"2 minutes ago",current:!0},{id:"2",device:"Safari on iPhone",location:"New York, NY",lastActive:"1 hour ago",current:!1},{id:"3",device:"Chrome on Mac",location:"San Francisco, CA",lastActive:"3 days ago",current:!1}],this.settingsTabs=[{id:"profile",label:"Profile",icon:'<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/></svg>'},{id:"security",label:"Security",icon:'<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/></svg>'},{id:"preferences",label:"Preferences",icon:'<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"/><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"/></svg>'},{id:"account",label:"Account",icon:'<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>'}],this.profileForm=this.fb.group({firstName:["John",[v.required]],lastName:["Doe",[v.required]],email:["john.doe@example.com",[v.required,v.email]],jobTitle:["Administrator"],bio:[""]}),this.passwordForm=this.fb.group({currentPassword:["",[v.required]],newPassword:["",[v.required,v.minLength(8)]],confirmPassword:["",[v.required]]})}ngOnInit(){let e=this.currentUser();if(e){let o=e.name.split(" ");this.profileForm.patchValue({firstName:o[0]||"",lastName:o[1]||"",email:e.email})}}getTabClasses(e){return`flex items-center w-full px-3 py-2 text-left text-sm font-medium rounded-lg transition-colors ${this.activeTab===e?"bg-primary-100 dark:bg-primary-900/20 text-primary-600 dark:text-primary-400":"text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700"}`}getToggleClasses(e){return`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ${e?"bg-primary-600":"bg-gray-200 dark:bg-gray-700"}`}getToggleButtonClasses(e){return`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${e?"translate-x-6":"translate-x-1"}`}getFieldError(e,o){let r=e.get(o);if(r&&r.invalid&&r.touched){if(r.errors?.required)return`${o.charAt(0).toUpperCase()+o.slice(1)} is required`;if(r.errors?.email)return"Please enter a valid email address";if(r.errors?.minlength)return`Password must be at least ${r.errors?.minlength.requiredLength} characters`}return null}sanitizeIcon(e){return this.sanitizer.bypassSecurityTrustHtml(e)}saveProfile(){return b(this,null,function*(){if(this.profileForm.valid){this.saving=!0;try{yield new Promise(e=>setTimeout(e,1e3)),console.log("Profile saved:",this.profileForm.value)}catch(e){console.error("Error saving profile:",e)}finally{this.saving=!1}}})}changePassword(){return b(this,null,function*(){if(this.passwordForm.valid){let{newPassword:e,confirmPassword:o}=this.passwordForm.value;if(e!==o){this.passwordForm.get("confirmPassword")?.setErrors({mismatch:!0});return}this.changing=!0;try{yield new Promise(r=>setTimeout(r,1e3)),console.log("Password changed"),this.passwordForm.reset()}catch(r){console.error("Error changing password:",r)}finally{this.changing=!1}}})}toggleTheme(){this.themeService.toggleTheme()}toggleNotification(e){this.notificationSettings[e]=!this.notificationSettings[e]}terminateSession(e){this.activeSessions=this.activeSessions.filter(o=>o.id!==e)}static{this.\u0275fac=function(o){return new(o||s)(F(O))}}static{this.\u0275cmp=k({type:s,selectors:[["app-settings"]],standalone:!0,features:[P],decls:16,vars:5,consts:[[1,"space-y-6"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"text-gray-600","dark:text-gray-400"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-6"],[1,"lg:col-span-1"],[1,"space-y-1"],[3,"class","click",4,"ngFor","ngForOf"],[1,"lg:col-span-2"],["title","Profile Settings","subtitle","Update your personal information",4,"ngIf"],["title","Security Settings","subtitle","Manage your password and security preferences",4,"ngIf"],["title","Preferences","subtitle","Customize your application experience",4,"ngIf"],["title","Account Settings","subtitle","Manage your account and data",4,"ngIf"],[3,"click"],[1,"w-5","h-5",3,"innerHTML"],[1,"ml-3"],["title","Profile Settings","subtitle","Update your personal information"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"flex","items-center","space-x-6"],[1,"shrink-0"],[1,"h-16","w-16","rounded-full","object-cover",3,"src","alt"],[1,"flex-1"],["variant","secondary","size","sm"],["slot","icon","fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-4","w-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"],[1,"text-sm","text-gray-500","dark:text-gray-400","mt-2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],["label","First Name","placeholder","Enter first name","formControlName","firstName",3,"required","error"],["label","Last Name","placeholder","Enter last name","formControlName","lastName",3,"required","error"],["label","Email Address","type","email","placeholder","Enter email address","formControlName","email",3,"required","error"],["label","Job Title","placeholder","Enter job title","formControlName","jobTitle"],["label","Bio","type","textarea","placeholder","Tell us about yourself","formControlName","bio",3,"rows"],[1,"flex","justify-end"],["type","submit","variant","primary",3,"loading"],["title","Security Settings","subtitle","Manage your password and security preferences"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],["label","Current Password","type","password","placeholder","Enter current password","formControlName","currentPassword",3,"required","error"],["label","New Password","type","password","placeholder","Enter new password","formControlName","newPassword",3,"required","error"],["label","Confirm New Password","type","password","placeholder","Confirm new password","formControlName","confirmPassword",3,"required","error"],["type","submit","variant","primary",3,"loading","disabled"],[1,"border-t","border-gray-200","dark:border-gray-700","pt-6"],[1,"text-lg","font-medium","text-gray-900","dark:text-white","mb-4"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"space-y-4"],["class","flex items-center justify-between p-4 bg-gray-50 dark:bg-gray-700/50 rounded-lg",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","p-4","bg-gray-50","dark:bg-gray-700/50","rounded-lg"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-500","dark:text-gray-400"],["variant","danger","size","sm",3,"clicked",4,"ngIf"],["class","text-sm text-green-600 dark:text-green-400 font-medium",4,"ngIf"],["variant","danger","size","sm",3,"clicked"],[1,"text-sm","text-green-600","dark:text-green-400","font-medium"],["title","Preferences","subtitle","Customize your application experience"],[1,"block","text-sm","font-medium","text-gray-700","dark:text-gray-300","mb-2"],[1,"input-field"],["value","en"],["value","es"],["value","fr"],["value","de"],["value","UTC"],["value","America/New_York"],["value","America/Chicago"],["value","America/Denver"],["value","America/Los_Angeles"],["title","Account Settings","subtitle","Manage your account and data"],[1,"text-sm","text-gray-600","dark:text-gray-400","mb-4"],["variant","secondary"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 12l2 2 4-4"],[1,"bg-red-50","dark:bg-red-900/20","border","border-red-200","dark:border-red-800","rounded-lg","p-6"],[1,"text-lg","font-medium","text-red-800","dark:text-red-400","mb-2"],[1,"text-sm","text-red-600","dark:text-red-400","mb-4"],["variant","danger"]],template:function(o,r){o&1&&(t(0,"div",0)(1,"div")(2,"h1",1),n(3,"Settings"),i(),t(4,"p",2),n(5,"Manage your account and application preferences"),i()(),t(6,"div",3)(7,"div",4)(8,"app-card")(9,"nav",5),h(10,Z,4,4,"button",6),i()()(),t(11,"div",7),h(12,K,21,11,"app-card",8)(13,te,25,10,"app-card",9)(14,ie,72,16,"app-card",10)(15,re,19,0,"app-card",11),i()()()),o&2&&(a(10),l("ngForOf",r.settingsTabs),a(2),l("ngIf",r.activeTab==="profile"),a(),l("ngIf",r.activeTab==="security"),a(),l("ngIf",r.activeTab==="preferences"),a(),l("ngIf",r.activeTab==="account"))},dependencies:[A,M,V,H,B,U,$,z,j,G,D,L,R,J,Y],encapsulation:2})}}return s})();export{xe as SettingsComponent};
