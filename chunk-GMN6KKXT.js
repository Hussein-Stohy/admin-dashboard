import{a as Ce}from"./chunk-NBOPPTVV.js";import{a as xe}from"./chunk-JKEZ3MTO.js";import{g as ae,i as oe,j as le,m as se}from"./chunk-LHFNF7L7.js";import{c as N,d as x,e as q,f as de,g as ce,h as ge,i as pe,k as me,l as ue,m as z,n as j,o as G,p as ye,r as fe,s as he,t as ve}from"./chunk-LTQKD66N.js";import{a as O}from"./chunk-2XT5PBEV.js";import{a as H}from"./chunk-HL65FGJ5.js";import{$a as I,Ab as J,Bb as ee,Cb as te,Db as ie,La as o,Ma as D,O as X,Ob as E,Sa as w,Xa as u,Y as P,_a as d,ac as re,bb as C,bc as B,cb as i,cc as ne,db as r,ea as _,eb as y,fa as S,fc as V,ga as b,ha as k,hb as F,ib as f,jb as p,qb as l,rb as Y,sb as h,ub as Z,vb as W,wb as K,xb as U,zb as L}from"./chunk-6YEFK35Y.js";import{a as A,b as R,d as v}from"./chunk-4CLCTAJ7.js";var $=(()=>{class a{constructor(){this.categoriesSignal=w([]),this.loadingSignal=w(!1),this.searchTermSignal=w(""),this.currentPageSignal=w(1),this.pageSizeSignal=w(12),this.categories=this.categoriesSignal.asReadonly(),this.loading=this.loadingSignal.asReadonly(),this.searchTerm=this.searchTermSignal.asReadonly(),this.currentPage=this.currentPageSignal.asReadonly(),this.pageSize=this.pageSizeSignal.asReadonly(),this.filteredCategories=E(()=>{let e=this.categories();return this.searchTerm()&&(e=e.filter(n=>n.name.toLowerCase().includes(this.searchTerm().toLowerCase())||n.description.toLowerCase().includes(this.searchTerm().toLowerCase()))),e}),this.paginatedCategories=E(()=>{let e=this.filteredCategories(),n=(this.currentPage()-1)*this.pageSize();return e.slice(n,n+this.pageSize())}),this.totalPages=E(()=>Math.ceil(this.filteredCategories().length/this.pageSize())),this.activeCategories=E(()=>this.categories().filter(e=>e.status==="active")),this.generateMockCategories()}generateMockCategories(){let e=[{id:"1",name:"Electronics",description:"Electronic devices, gadgets, and accessories",color:"#3B82F6",icon:"\u{1F4F1}",status:"active",productCount:45,createdAt:new Date("2024-01-10"),updatedAt:new Date("2024-01-20")},{id:"2",name:"Home & Kitchen",description:"Kitchen appliances, cookware, and home essentials",color:"#EF4444",icon:"\u{1F3E0}",status:"active",productCount:32,createdAt:new Date("2024-01-12"),updatedAt:new Date("2024-01-18")},{id:"3",name:"Sports & Outdoors",description:"Sporting goods, fitness equipment, and outdoor gear",color:"#10B981",icon:"\u26BD",status:"active",productCount:28,createdAt:new Date("2024-01-08"),updatedAt:new Date("2024-01-25")},{id:"4",name:"Clothing",description:"Fashion, apparel, shoes, and accessories",color:"#F59E0B",icon:"\u{1F455}",status:"active",productCount:67,createdAt:new Date("2024-01-15"),updatedAt:new Date("2024-01-22")},{id:"5",name:"Books",description:"Books, e-books, magazines, and educational materials",color:"#8B5CF6",icon:"\u{1F4DA}",status:"active",productCount:156,createdAt:new Date("2024-01-05"),updatedAt:new Date("2024-01-19")},{id:"6",name:"Beauty & Personal Care",description:"Cosmetics, skincare, personal hygiene products",color:"#EC4899",icon:"\u{1F484}",status:"active",productCount:89,createdAt:new Date("2024-01-14"),updatedAt:new Date("2024-01-21")},{id:"7",name:"Toys & Games",description:"Toys, board games, video games, and entertainment",color:"#F97316",icon:"\u{1F3AE}",status:"active",productCount:34,createdAt:new Date("2024-01-11"),updatedAt:new Date("2024-01-23")},{id:"8",name:"Automotive",description:"Car parts, accessories, and automotive tools",color:"#6B7280",icon:"\u{1F697}",status:"active",productCount:23,createdAt:new Date("2024-01-09"),updatedAt:new Date("2024-01-24")},{id:"9",name:"Home & Garden",description:"Garden tools, plants, home decoration items",color:"#059669",icon:"\u{1F331}",status:"active",productCount:41,createdAt:new Date("2024-01-13"),updatedAt:new Date("2024-01-26")},{id:"10",name:"Bags & Luggage",description:"Backpacks, travel bags, handbags, and luggage",color:"#DC2626",icon:"\u{1F392}",status:"active",productCount:19,createdAt:new Date("2024-01-07"),updatedAt:new Date("2024-01-27")}];this.categoriesSignal.set(e)}getCategories(){return v(this,null,function*(){this.loadingSignal.set(!0);try{yield new Promise(e=>setTimeout(e,600))}finally{this.loadingSignal.set(!1)}})}getCategoryById(e){return v(this,null,function*(){return this.categories().find(n=>n.id===e)||null})}createCategory(e){return v(this,null,function*(){let n=R(A({},e),{id:Date.now().toString(),createdAt:new Date,updatedAt:new Date});return this.categoriesSignal.update(t=>[...t,n]),n})}updateCategory(e,n){return v(this,null,function*(){let t=this.categories().findIndex(c=>c.id===e);if(t===-1)return null;let s=R(A(A({},this.categories()[t]),n),{updatedAt:new Date});return this.categoriesSignal.update(c=>c.map(m=>m.id===e?s:m)),s})}deleteCategory(e){return v(this,null,function*(){return this.categories().some(t=>t.id===e)?(this.categoriesSignal.update(t=>t.filter(s=>s.id!==e)),!0):!1})}setSearchTerm(e){this.searchTermSignal.set(e),this.currentPageSignal.set(1)}setCurrentPage(e){this.currentPageSignal.set(e)}setPageSize(e){this.pageSizeSignal.set(e),this.currentPageSignal.set(1)}static{this.\u0275fac=function(n){return new(n||a)}}static{this.\u0275prov=X({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();var be=()=>["/categories/create"],Fe=a=>["/categories/edit",a];function Ie(a,g){a&1&&y(0,"app-loading")}function Te(a,g){if(a&1){let e=F();i(0,"app-card",25),f("click",function(){let t=_(e).$implicit,s=p(2);return S(s.editCategory(t.id))}),y(1,"div",26),i(2,"div",27)(3,"div",28)(4,"div",29),l(5),r(),i(6,"span",30),l(7),te(8,"titlecase"),r()(),i(9,"div",31)(10,"h3",32),l(11),r(),i(12,"p",33),l(13),r()(),i(14,"div",28)(15,"div",34),b(),i(16,"svg",35),y(17,"path",36),r(),k(),i(18,"span",37),l(19),r()(),y(20,"div",38),r(),i(21,"div",39),f("click",function(t){return _(e),S(t.stopPropagation())}),i(22,"app-button",40),l(23," Edit "),r(),i(24,"button",41),f("click",function(){let t=_(e).$implicit,s=p(2);return S(s.deleteCategory(t))}),l(25," Delete "),r()()()()}if(a&2){let e=g.$implicit,n=p(2);o(),I("background-color",e.color),o(4),Y(e.icon),o(),C(n.getStatusClasses(e.status)),o(),h(" ",ie(8,12,e.status)," "),o(4),h(" ",e.name," "),o(2),h(" ",e.description," "),o(6),h(" ",e.productCount," products "),o(),I("background-color",e.color),o(2),d("routerLink",ee(14,Fe,e.id))}}function Me(a,g){if(a&1&&(i(0,"div",23),u(1,Te,26,16,"app-card",24),r()),a&2){let e=p();o(),d("ngForOf",e.categoriesService.paginatedCategories())("ngForTrackBy",e.trackByCategoryId)}}function Ae(a,g){if(a&1&&(i(0,"app-card")(1,"div",42),b(),i(2,"svg",43),y(3,"path",44),r(),k(),i(4,"h3",45),l(5,"No categories found"),r(),i(6,"p",46),l(7),r(),i(8,"div",47)(9,"app-button",48),b(),i(10,"svg",6),y(11,"path",9),r(),l(12," Add Category "),r()()()()),a&2){let e=p();o(7),h(" ",e.categoriesService.searchTerm()?"Try adjusting your search.":"Get started by creating your first category."," "),o(2),d("routerLink",J(2,be))}}function Pe(a,g){if(a&1){let e=F();i(0,"button",54),f("click",function(){let t=_(e).$implicit,s=p(2);return S(s.goToPage(t))}),l(1),r()}if(a&2){let e=g.$implicit,n=p(2);C(e===n.categoriesService.currentPage()?"bg-blue-600 text-white":"text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600"),o(),h(" ",e," ")}}function Le(a,g){if(a&1){let e=F();i(0,"div",49)(1,"div",50)(2,"span"),l(3),r()(),i(4,"div",34)(5,"button",51),f("click",function(){_(e);let t=p();return S(t.goToPage(t.categoriesService.currentPage()-1))}),l(6," Previous "),r(),i(7,"div",52),u(8,Pe,2,3,"button",53),r(),i(9,"button",51),f("click",function(){_(e);let t=p();return S(t.goToPage(t.categoriesService.currentPage()+1))}),l(10," Next "),r()()()}if(a&2){let e=p();o(3),Z(" Showing ",e.getStartIndex()," to ",e.getEndIndex()," of ",e.filteredCategoriesCount()," categories "),o(2),d("disabled",e.categoriesService.currentPage()===1),o(3),d("ngForOf",e.getVisiblePages()),o(),d("disabled",e.categoriesService.currentPage()===e.categoriesService.totalPages())}}var ke=(()=>{class a{constructor(e){this.categoriesService=e,this.searchTerm="",this.pageSize=12,this.filteredCategoriesCount=E(()=>this.categoriesService.filteredCategories().length)}ngOnInit(){this.categoriesService.getCategories()}onSearchChange(e){this.categoriesService.setSearchTerm(e)}onPageSizeChange(e){this.categoriesService.setPageSize(parseInt(e))}goToPage(e){this.categoriesService.setCurrentPage(e)}editCategory(e){}deleteCategory(e){return v(this,null,function*(){confirm(`Are you sure you want to delete "${e.name}"? This will affect ${e.productCount} products.`)&&(yield this.categoriesService.deleteCategory(e.id))})}getStatusClasses(e){let n="px-2 py-1 text-xs font-medium rounded-full";switch(e){case"active":return`${n} bg-green-100 text-green-800 dark:bg-green-900/20 dark:text-green-400`;case"inactive":return`${n} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`;default:return`${n} bg-gray-100 text-gray-800 dark:bg-gray-900/20 dark:text-gray-400`}}getStartIndex(){return(this.categoriesService.currentPage()-1)*this.categoriesService.pageSize()+1}getEndIndex(){let e=this.categoriesService.currentPage()*this.categoriesService.pageSize();return Math.min(e,this.filteredCategoriesCount())}getVisiblePages(){let e=this.categoriesService.currentPage(),n=this.categoriesService.totalPages(),t=[];if(n<=7)for(let s=1;s<=n;s++)t.push(s);else if(e<=4){for(let s=1;s<=5;s++)t.push(s);t.push(-1),t.push(n)}else if(e>=n-3){t.push(1),t.push(-1);for(let s=n-4;s<=n;s++)t.push(s)}else{t.push(1),t.push(-1);for(let s=e-1;s<=e+1;s++)t.push(s);t.push(-1),t.push(n)}return t.filter(s=>s>0)}trackByCategoryId(e,n){return n.id}exportCategories(){console.log("Exporting categories...")}static{this.\u0275fac=function(n){return new(n||a)(D($))}}static{this.\u0275cmp=P({type:a,selectors:[["app-categories-list"]],standalone:!0,features:[L],decls:34,vars:9,consts:[[1,"space-y-6"],[1,"flex","flex-col","sm:flex-row","justify-between","items-start","sm:items-center","gap-4"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"text-gray-600","dark:text-gray-400","mt-1"],[1,"flex","flex-col","sm:flex-row","gap-2","w-full","sm:w-auto"],["variant","outline",1,"w-full","sm:w-auto",3,"clicked"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","mr-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3M3 17V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v10a2 2 0 01-2 2H5a2 2 0 01-2-2z"],["variant","primary",1,"w-full","sm:w-auto",3,"routerLink"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 6v6m0 0v6m0-6h6m-6 0H6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"relative"],[1,"absolute","inset-y-0","left-0","pl-3","flex","items-center","pointer-events-none"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"],["type","text","placeholder","Search categories...",1,"block","w-full","pl-10","pr-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","leading-5","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","placeholder-gray-500","dark:placeholder-gray-400","focus:outline-none","focus:placeholder-gray-400","dark:focus:placeholder-gray-300","focus:ring-1","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],[1,"block","w-full","px-3","py-2","border","border-gray-300","dark:border-gray-600","rounded-md","leading-5","bg-white","dark:bg-gray-700","text-gray-900","dark:text-white","focus:outline-none","focus:ring-1","focus:ring-blue-500","focus:border-blue-500",3,"ngModelChange","ngModel"],["value","12"],["value","24"],["value","48"],[4,"ngIf"],["class","grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",4,"ngIf"],["class","flex items-center justify-between bg-white dark:bg-gray-800 px-4 py-3 border border-gray-200 dark:border-gray-700 rounded-lg",4,"ngIf"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],["class","hover:shadow-lg transition-all duration-200 cursor-pointer relative overflow-hidden group",3,"click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"hover:shadow-lg","transition-all","duration-200","cursor-pointer","relative","overflow-hidden","group",3,"click"],[1,"absolute","top-0","left-0","right-0","h-1"],[1,"p-6","space-y-4"],[1,"flex","items-center","justify-between"],[1,"text-3xl"],[1,"px-2","py-1","text-xs","font-medium","rounded-full"],[1,"space-y-2"],[1,"text-lg","font-semibold","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-600","dark:text-gray-400","line-clamp-2"],[1,"flex","items-center","space-x-2"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4","text-gray-500"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"],[1,"text-sm","text-gray-600","dark:text-gray-400"],[1,"w-3","h-3","rounded-full"],[1,"flex","space-x-2","pt-2","opacity-0","group-hover:opacity-100","transition-opacity",3,"click"],["variant","primary","size","sm",1,"flex-1",3,"routerLink"],[1,"px-3","py-1","text-sm","font-medium","text-red-600","hover:text-red-800","dark:text-red-400","dark:hover:text-red-300","border","border-red-300","dark:border-red-600","rounded-md","hover:bg-red-50","dark:hover:bg-red-900/20","transition-colors",3,"click"],[1,"text-center","py-12"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"],[1,"mt-2","text-sm","font-medium","text-gray-900","dark:text-white"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400"],[1,"mt-6"],["variant","primary",3,"routerLink"],[1,"flex","items-center","justify-between","bg-white","dark:bg-gray-800","px-4","py-3","border","border-gray-200","dark:border-gray-700","rounded-lg"],[1,"flex","items-center","text-sm","text-gray-700","dark:text-gray-300"],[1,"px-3","py-2","text-sm","font-medium","text-gray-500","bg-white","dark:bg-gray-700","border","border-gray-300","dark:border-gray-600","rounded-md","hover:bg-gray-50","dark:hover:bg-gray-600","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"flex","space-x-1"],["class","px-3 py-2 text-sm font-medium border border-gray-300 dark:border-gray-600 rounded-md",3,"class","click",4,"ngFor","ngForOf"],[1,"px-3","py-2","text-sm","font-medium","border","border-gray-300","dark:border-gray-600","rounded-md",3,"click"]],template:function(n,t){n&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"h1",2),l(4,"\u{1F3F7}\uFE0F Categories"),r(),i(5,"p",3),l(6),r()(),i(7,"div",4)(8,"app-button",5),f("clicked",function(){return t.exportCategories()}),b(),i(9,"svg",6),y(10,"path",7),r(),l(11," Export "),r(),k(),i(12,"app-button",8),b(),i(13,"svg",6),y(14,"path",9),r(),l(15," Add Category "),r()()(),k(),i(16,"app-card")(17,"div",10)(18,"div",11)(19,"div",12),b(),i(20,"svg",13),y(21,"path",14),r()(),k(),i(22,"input",15),U("ngModelChange",function(c){return K(t.searchTerm,c)||(t.searchTerm=c),c}),f("ngModelChange",function(c){return t.onSearchChange(c)}),r()(),i(23,"select",16),U("ngModelChange",function(c){return K(t.pageSize,c)||(t.pageSize=c),c}),f("ngModelChange",function(c){return t.onPageSizeChange(c)}),i(24,"option",17),l(25,"12 per page"),r(),i(26,"option",18),l(27,"24 per page"),r(),i(28,"option",19),l(29,"48 per page"),r()()()(),u(30,Ie,1,0,"app-loading",20)(31,Me,2,2,"div",21)(32,Ae,13,3,"app-card",20)(33,Le,11,6,"div",22),r()),n&2&&(o(6),h(" Manage product categories (",t.filteredCategoriesCount()," categories) "),o(6),d("routerLink",J(8,be)),o(10),W("ngModel",t.searchTerm),o(),W("ngModel",t.pageSize),o(7),d("ngIf",t.categoriesService.loading()),o(),d("ngIf",!t.categoriesService.loading()),o(),d("ngIf",!t.categoriesService.loading()&&t.categoriesService.paginatedCategories().length===0),o(),d("ngIf",!t.categoriesService.loading()&&t.categoriesService.totalPages()>1))},dependencies:[V,re,B,ne,se,le,he,j,G,N,z,q,ce,O,H,xe],styles:[".line-clamp-2[_ngcontent-%COMP%]{display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}"]})}}return a})();function Be(a,g){a&1&&(i(0,"span"),l(1,"Category name is required"),r())}function Ve(a,g){a&1&&(i(0,"span"),l(1,"Category name must be at least 2 characters"),r())}function Ne(a,g){if(a&1&&(i(0,"div",49),u(1,Be,2,0,"span",43)(2,Ve,2,0,"span",43),r()),a&2){let e,n,t=p();o(),d("ngIf",(e=t.categoryForm.get("name"))==null?null:e.hasError("required")),o(),d("ngIf",(n=t.categoryForm.get("name"))==null?null:n.hasError("minlength"))}}function qe(a,g){a&1&&(i(0,"span"),l(1,"Description is required"),r())}function ze(a,g){a&1&&(i(0,"span"),l(1,"Description must be at least 10 characters"),r())}function je(a,g){if(a&1&&(i(0,"div",49),u(1,qe,2,0,"span",43)(2,ze,2,0,"span",43),r()),a&2){let e,n,t=p();o(),d("ngIf",(e=t.categoryForm.get("description"))==null?null:e.hasError("required")),o(),d("ngIf",(n=t.categoryForm.get("description"))==null?null:n.hasError("minlength"))}}function Ge(a,g){a&1&&(i(0,"div",49),l(1," Icon is required "),r())}function Oe(a,g){a&1&&(i(0,"span"),l(1,"Color is required"),r())}function He(a,g){a&1&&(i(0,"span"),l(1,"Please enter a valid hex color"),r())}function $e(a,g){if(a&1&&(i(0,"div",49),u(1,Oe,2,0,"span",43)(2,He,2,0,"span",43),r()),a&2){let e,n,t=p();o(),d("ngIf",(e=t.categoryForm.get("color"))==null?null:e.hasError("required")),o(),d("ngIf",(n=t.categoryForm.get("color"))==null?null:n.hasError("pattern"))}}function Re(a,g){if(a&1&&(i(0,"div")(1,"app-form-field",50),y(2,"input",51),i(3,"p",52),l(4," Number of products in this category "),r()()()),a&2){let e=p();o(2),C(e.getInputClasses("productCount"))}}function We(a,g){if(a&1&&(i(0,"div",8)(1,"h3",9),l(2,"Preview"),r(),i(3,"div",53)(4,"div",54)(5,"div",55),l(6),r(),i(7,"div")(8,"h4",56),l(9),r(),i(10,"p",57),l(11),r()()()()()),a&2){let e,n,t,s,c,m=p();o(5),I("background-color",((e=m.categoryForm.get("color"))==null?null:e.value)||"#3B82F6")("color",m.getContrastColor(((n=m.categoryForm.get("color"))==null?null:n.value)||"#3B82F6")),o(),h(" ",((t=m.categoryForm.get("icon"))==null?null:t.value)||"\u{1F4E6}"," "),o(3),h(" ",((s=m.categoryForm.get("name"))==null?null:s.value)||"Category Name"," "),o(2),h(" ",((c=m.categoryForm.get("description"))==null?null:c.value)||"Category description will appear here"," ")}}function Ke(a,g){if(a&1){let e=F();i(0,"app-button",58),f("click",function(){_(e);let t=p();return S(t.deleteCategory())}),l(1," Delete Category "),r()}if(a&2){let e=p();d("disabled",e.loading())}}var Q=(()=>{class a{constructor(e,n,t,s){this.fb=e,this.categoriesService=n,this.router=t,this.route=s,this.isEditing=!1,this.categoryId=null,this.loading=w(!1),this.categoryForm=this.createForm()}ngOnInit(){this.categoryId=this.route.snapshot.paramMap.get("id"),this.isEditing=!!this.categoryId,this.isEditing&&this.categoryId&&this.loadCategory()}createForm(){return this.fb.group({name:["",[x.required,x.minLength(2)]],description:["",[x.required,x.minLength(10)]],icon:["",x.required],color:["#3B82F6",[x.required,x.pattern(/^#[0-9A-Fa-f]{6}$/)]],status:["active",x.required],productCount:[0,[x.min(0)]]})}loadCategory(){return v(this,null,function*(){if(this.categoryId){this.loading.set(!0);try{let e=yield this.categoriesService.getCategoryById(this.categoryId);e?this.categoryForm.patchValue({name:e.name,description:e.description,icon:e.icon,color:e.color,status:e.status,productCount:e.productCount}):this.router.navigate(["/categories"])}finally{this.loading.set(!1)}}})}onSubmit(){return v(this,null,function*(){if(this.categoryForm.invalid){this.markFormGroupTouched();return}this.loading.set(!0);try{let e=this.categoryForm.value;this.isEditing&&this.categoryId?yield this.categoriesService.updateCategory(this.categoryId,e):(e.productCount=0,yield this.categoriesService.createCategory(e)),this.router.navigate(["/categories"])}catch(e){console.error("Error saving category:",e)}finally{this.loading.set(!1)}})}deleteCategory(){return v(this,null,function*(){if(!this.categoryId)return;let e=this.categoryForm.get("name")?.value,n=this.categoryForm.get("productCount")?.value||0,t=n>0?`Are you sure you want to delete "${e}"? This will affect ${n} products.`:`Are you sure you want to delete "${e}"?`;if(confirm(t)){this.loading.set(!0);try{yield this.categoriesService.deleteCategory(this.categoryId),this.router.navigate(["/categories"])}catch(s){console.error("Error deleting category:",s)}finally{this.loading.set(!1)}}})}goBack(){this.router.navigate(["/categories"])}getInputClasses(e,n=""){let t=this.categoryForm.get(e),s=`block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-1 sm:text-sm ${n}`;return t?.invalid&&t?.touched?`${s} border-red-300 dark:border-red-600 text-red-900 dark:text-red-100 placeholder-red-300 dark:placeholder-red-400 focus:ring-red-500 focus:border-red-500 bg-red-50 dark:bg-red-900/10`:`${s} border-gray-300 dark:border-gray-600 text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-blue-500 focus:border-blue-500 bg-white dark:bg-gray-700`}getContrastColor(e){let n=e.replace("#",""),t=parseInt(n.substr(0,2),16),s=parseInt(n.substr(2,2),16),c=parseInt(n.substr(4,2),16);return(t*299+s*587+c*114)/1e3>128?"#000000":"#ffffff"}markFormGroupTouched(){Object.keys(this.categoryForm.controls).forEach(e=>{this.categoryForm.get(e)?.markAsTouched()})}static{this.\u0275fac=function(n){return new(n||a)(D(fe),D($),D(oe),D(ae))}}static{this.\u0275cmp=P({type:a,selectors:[["app-category-form"]],standalone:!0,features:[L],decls:79,vars:29,consts:[[1,"max-w-2xl","mx-auto","space-y-6"],[1,"flex","items-center","space-x-4"],[1,"p-2","text-gray-600","hover:text-gray-900","dark:text-gray-400","dark:hover:text-white",3,"click"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-2xl","font-bold","text-gray-900","dark:text-white"],[1,"text-gray-600","dark:text-gray-400","mt-1"],[1,"space-y-6",3,"ngSubmit","formGroup"],[1,"space-y-4"],[1,"text-lg","font-medium","text-gray-900","dark:text-white"],["label","Category Name",3,"required"],["type","text","formControlName","name","placeholder","Enter category name"],["class","mt-1 text-sm text-red-600 dark:text-red-400",4,"ngIf"],["label","Description",3,"required"],["formControlName","description","rows","3","placeholder","Enter category description"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["label","Icon",3,"required"],["formControlName","icon"],["value",""],["value","\u{1F4F1}"],["value","\u{1F3E0}"],["value","\u26BD"],["value","\u{1F455}"],["value","\u{1F4DA}"],["value","\u{1F484}"],["value","\u{1F3AE}"],["value","\u{1F697}"],["value","\u{1F331}"],["value","\u{1F392}"],["value","\u{1F3B5}"],["value","\u{1F37D}\uFE0F"],["value","\u{1F48A}"],["value","\u{1F527}"],["value","\u{1F4F7}"],["value","\u{1F3A8}"],["label","Color",3,"required"],[1,"flex","space-x-3"],["type","color","formControlName","color",1,"w-12","h-10","border","border-gray-300","dark:border-gray-600","rounded-md","cursor-pointer"],["type","text","formControlName","color","placeholder","#3B82F6",1,"flex-1"],["label","Status",3,"required"],["formControlName","status"],["value","active"],["value","inactive"],[4,"ngIf"],["class","space-y-4",4,"ngIf"],[1,"flex","flex-col","sm:flex-row","gap-3","pt-6"],["type","submit","variant","primary",1,"w-full","sm:w-auto",3,"disabled","loading"],["type","button","variant","outline",1,"w-full","sm:w-auto",3,"click","disabled"],["type","button","variant","danger","class","w-full sm:w-auto sm:ml-auto",3,"disabled","click",4,"ngIf"],[1,"mt-1","text-sm","text-red-600","dark:text-red-400"],["label","Product Count"],["type","number","formControlName","productCount","min","0"],[1,"mt-1","text-sm","text-gray-500","dark:text-gray-400"],[1,"border","border-gray-200","dark:border-gray-700","rounded-lg","p-4"],[1,"flex","items-center","space-x-3"],[1,"w-12","h-12","rounded-lg","flex","items-center","justify-center","text-xl"],[1,"font-medium","text-gray-900","dark:text-white"],[1,"text-sm","text-gray-600","dark:text-gray-400"],["type","button","variant","danger",1,"w-full","sm:w-auto","sm:ml-auto",3,"click","disabled"]],template:function(n,t){if(n&1&&(i(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return t.goBack()}),b(),i(3,"svg",3),y(4,"path",4),r()(),k(),i(5,"div")(6,"h1",5),l(7),r(),i(8,"p",6),l(9),r()()(),i(10,"app-card")(11,"form",7),f("ngSubmit",function(){return t.onSubmit()}),i(12,"div",8)(13,"h3",9),l(14,"Category Information"),r(),i(15,"app-form-field",10),y(16,"input",11),u(17,Ne,3,2,"div",12),r(),i(18,"app-form-field",13)(19,"textarea",14),l(20,"              "),r(),u(21,je,3,2,"div",12),r(),i(22,"div",15)(23,"app-form-field",16)(24,"select",17)(25,"option",18),l(26,"Select an icon"),r(),i(27,"option",19),l(28,"\u{1F4F1} Electronics"),r(),i(29,"option",20),l(30,"\u{1F3E0} Home & Kitchen"),r(),i(31,"option",21),l(32,"\u26BD Sports & Outdoors"),r(),i(33,"option",22),l(34,"\u{1F455} Clothing"),r(),i(35,"option",23),l(36,"\u{1F4DA} Books"),r(),i(37,"option",24),l(38,"\u{1F484} Beauty & Personal Care"),r(),i(39,"option",25),l(40,"\u{1F3AE} Toys & Games"),r(),i(41,"option",26),l(42,"\u{1F697} Automotive"),r(),i(43,"option",27),l(44,"\u{1F331} Home & Garden"),r(),i(45,"option",28),l(46,"\u{1F392} Bags & Luggage"),r(),i(47,"option",29),l(48,"\u{1F3B5} Music"),r(),i(49,"option",30),l(50,"\u{1F37D}\uFE0F Food & Beverages"),r(),i(51,"option",31),l(52,"\u{1F48A} Health & Wellness"),r(),i(53,"option",32),l(54,"\u{1F527} Tools & Hardware"),r(),i(55,"option",33),l(56,"\u{1F4F7} Photography"),r(),i(57,"option",34),l(58,"\u{1F3A8} Arts & Crafts"),r()(),u(59,Ge,2,0,"div",12),r(),i(60,"app-form-field",35)(61,"div",36),y(62,"input",37)(63,"input",38),r(),u(64,$e,3,2,"div",12),r()(),i(65,"app-form-field",39)(66,"select",40)(67,"option",41),l(68,"Active"),r(),i(69,"option",42),l(70,"Inactive"),r()()(),u(71,Re,5,2,"div",43),r(),u(72,We,12,7,"div",44),i(73,"div",45)(74,"app-button",46),l(75),r(),i(76,"app-button",47),f("click",function(){return t.goBack()}),l(77," Cancel "),r(),u(78,Ke,2,1,"app-button",48),r()()()()),n&2){let s,c,m,T,M;o(7),h(" ",t.isEditing?"Edit Category":"Create Category"," "),o(2),h(" ",t.isEditing?"Update category information":"Add a new product category"," "),o(2),d("formGroup",t.categoryForm),o(4),d("required",!0),o(),C(t.getInputClasses("name")),o(),d("ngIf",((s=t.categoryForm.get("name"))==null?null:s.invalid)&&((s=t.categoryForm.get("name"))==null?null:s.touched)),o(),d("required",!0),o(),C(t.getInputClasses("description")),o(2),d("ngIf",((c=t.categoryForm.get("description"))==null?null:c.invalid)&&((c=t.categoryForm.get("description"))==null?null:c.touched)),o(2),d("required",!0),o(),C(t.getInputClasses("icon")),o(35),d("ngIf",((m=t.categoryForm.get("icon"))==null?null:m.invalid)&&((m=t.categoryForm.get("icon"))==null?null:m.touched)),o(),d("required",!0),o(3),C(t.getInputClasses("color")),o(),d("ngIf",((T=t.categoryForm.get("color"))==null?null:T.invalid)&&((T=t.categoryForm.get("color"))==null?null:T.touched)),o(),d("required",!0),o(),C(t.getInputClasses("status")),o(5),d("ngIf",t.isEditing),o(),d("ngIf",((M=t.categoryForm.get("name"))==null?null:M.value)||((M=t.categoryForm.get("icon"))==null?null:M.value)),o(2),d("disabled",t.categoryForm.invalid||t.loading())("loading",t.loading()),o(),h(" ",t.isEditing?"Update Category":"Create Category"," "),o(),d("disabled",t.loading()),o(2),d("ngIf",t.isEditing)}},dependencies:[V,B,ve,ge,j,G,N,pe,z,q,de,ye,me,ue,O,H,Ce],encapsulation:2})}}return a})();var vt=[{path:"",component:ke},{path:"create",component:Q},{path:"edit/:id",component:Q}];export{vt as categoriesRoutes};
