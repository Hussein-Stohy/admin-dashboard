import{a as E}from"./chunk-CXTII6WS.js";import{a as T}from"./chunk-NBOPPTVV.js";import{i as C}from"./chunk-LHFNF7L7.js";import{b as M,d,e as F,f as I,h as L,k as q,l as V,q as j,r as _,t as G}from"./chunk-LTQKD66N.js";import{a as N}from"./chunk-2XT5PBEV.js";import{a as P}from"./chunk-HL65FGJ5.js";import{La as n,Ma as c,Sa as g,Xa as x,Y as b,_a as s,bc as k,cb as e,db as o,eb as l,fc as w,ga as p,ha as u,ib as v,jb as y,qb as a,sb as h,zb as S}from"./chunk-6YEFK35Y.js";import{d as f}from"./chunk-4CLCTAJ7.js";function z(m,H){if(m&1&&(e(0,"div",25),a(1),o()),m&2){let t=y();n(),h(" ",t.getErrorMessage()," ")}}var Z=(()=>{class m{constructor(t,r,i){this.fb=t,this.authService=r,this.router=i,this.loading=g(!1),this.errorMessage=g(""),this.loginForm=this.fb.group({email:["admin@example.com",[d.required,d.email]],password:["admin123",[d.required,d.minLength(6)]],rememberMe:[!1]})}getLoading(){return this.loading()}getErrorMessage(){return this.errorMessage()}getFieldError(t){let r=this.loginForm.get(t);if(r&&r.invalid&&r.touched){if(r.errors?.required)return`${t.charAt(0).toUpperCase()+t.slice(1)} is required`;if(r.errors?.email)return"Please enter a valid email address";if(r.errors?.minlength)return`Password must be at least ${r.errors?.minlength.requiredLength} characters`}return null}onSubmit(){return f(this,null,function*(){if(this.loginForm.valid){this.loading.set(!0),this.errorMessage.set("");let{email:t,password:r}=this.loginForm.value;try{(yield this.authService.login(t,r))?this.router.navigate(["/dashboard"]):this.errorMessage.set("Invalid email or password. Please try again.")}catch(i){this.errorMessage.set("An error occurred. Please try again."),console.error("Login error:",i)}finally{this.loading.set(!1)}}else Object.keys(this.loginForm.controls).forEach(t=>{this.loginForm.get(t)?.markAsTouched()})})}static{this.\u0275fac=function(r){return new(r||m)(c(_),c(E),c(C))}}static{this.\u0275cmp=b({type:m,selectors:[["app-login"]],standalone:!0,features:[S],decls:36,vars:12,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-gray-50","dark:bg-gray-900","py-12","px-4","sm:px-6","lg:px-8"],[1,"max-w-md","w-full","space-y-8"],[1,"text-center"],[1,"mx-auto","w-16","h-16","bg-primary-600","rounded-xl","flex","items-center","justify-center"],["fill","currentColor","viewBox","0 0 20 20",1,"w-8","h-8","text-white"],["d","M3 4a1 1 0 011-1h12a1 1 0 011 1v2a1 1 0 01-1 1H4a1 1 0 01-1-1V4zM3 10a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H4a1 1 0 01-1-1v-6zM14 9a1 1 0 00-1 1v6a1 1 0 001 1h2a1 1 0 001-1v-6a1 1 0 00-1-1h-2z"],[1,"mt-6","text-3xl","font-bold","text-gray-900","dark:text-white"],[1,"mt-2","text-sm","text-gray-600","dark:text-gray-400"],[1,"space-y-6",3,"ngSubmit","formGroup"],["class","bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-700 dark:text-red-400 px-4 py-3 rounded-lg text-sm",4,"ngIf"],["label","Email address","type","email","placeholder","Enter your email","formControlName","email",3,"required","hasIcon","error"],["slot","icon","fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"h-5","w-5","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M16 12a4 4 0 10-8 0 4 4 0 008 0zm0 0v1.5a2.5 2.5 0 005 0V12a9 9 0 10-9 9m4.5-1.206a8.959 8.959 0 01-4.5 1.207"],["label","Password","type","password","placeholder","Enter your password","formControlName","password",3,"required","hasIcon","error"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"],[1,"flex","items-center","justify-between"],[1,"flex","items-center"],["id","remember-me","name","remember-me","type","checkbox","formControlName","rememberMe",1,"h-4","w-4","text-primary-600","focus:ring-primary-500","border-gray-300","rounded"],["for","remember-me",1,"ml-2","block","text-sm","text-gray-900","dark:text-gray-300"],[1,"text-sm"],["href","#",1,"font-medium","text-primary-600","hover:text-primary-500","dark:text-primary-400"],["type","submit","variant","primary",3,"fullWidth","loading","disabled"],[1,"mt-6","p-4","bg-blue-50","dark:bg-blue-900/20","border","border-blue-200","dark:border-blue-800","rounded-lg"],[1,"text-sm","text-blue-800","dark:text-blue-200","font-medium","mb-2"],[1,"text-sm","text-blue-700","dark:text-blue-300"],[1,"bg-red-50","dark:bg-red-900/20","border","border-red-200","dark:border-red-800","text-red-700","dark:text-red-400","px-4","py-3","rounded-lg","text-sm"]],template:function(r,i){r&1&&(e(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),p(),e(4,"svg",4),l(5,"path",5),o()(),u(),e(6,"h2",6),a(7," Welcome back "),o(),e(8,"p",7),a(9," Please sign in to your account "),o()(),e(10,"app-card")(11,"form",8),v("ngSubmit",function(){return i.onSubmit()}),x(12,z,2,1,"div",9),e(13,"app-form-field",10),p(),e(14,"svg",11),l(15,"path",12),o()(),u(),e(16,"app-form-field",13),p(),e(17,"svg",11),l(18,"path",14),o()(),u(),e(19,"div",15)(20,"div",16),l(21,"input",17),e(22,"label",18),a(23," Remember me "),o()(),e(24,"div",19)(25,"a",20),a(26," Forgot your password? "),o()()(),e(27,"app-button",21),a(28),o()(),e(29,"div",22)(30,"p",23),a(31,"Demo Credentials:"),o(),e(32,"p",24),a(33,"Email: admin@example.com"),o(),e(34,"p",24),a(35,"Password: admin123"),o()()()()()),r&2&&(n(11),s("formGroup",i.loginForm),n(),s("ngIf",i.getErrorMessage()),n(),s("required",!0)("hasIcon",!0)("error",i.getFieldError("email")),n(3),s("required",!0)("hasIcon",!0)("error",i.getFieldError("password")),n(11),s("fullWidth",!0)("loading",i.getLoading())("disabled",i.loginForm.invalid),n(),h(" ",i.getLoading()?"Signing in...":"Sign in"," "))},dependencies:[w,k,G,L,M,F,I,j,q,V,N,P,T],encapsulation:2})}}return m})();export{Z as LoginComponent};
