import{i as u}from"./chunk-LHFNF7L7.js";import{O as o,Sa as s,T as a}from"./chunk-6YEFK35Y.js";import{d as i}from"./chunk-4CLCTAJ7.js";var d=(()=>{class r{constructor(t){this.router=t,this.currentUser=s(null),this.isLoggedIn=s(!1);let e=localStorage.getItem("currentUser");e&&(this.currentUser.set(JSON.parse(e)),this.isLoggedIn.set(!0))}getCurrentUser(){return this.currentUser.asReadonly()}getIsLoggedIn(){return this.isLoggedIn.asReadonly()}user(){return this.currentUser()}login(t,e){return i(this,null,function*(){if(yield this.delay(1e3),t==="admin@example.com"&&e==="admin123"){let n={id:"1",name:"John Doe",email:"admin@example.com",role:"admin",avatar:"https://ui-avatars.com/api/?name=John+Doe&background=3b82f6&color=fff"};return this.currentUser.set(n),this.isLoggedIn.set(!0),localStorage.setItem("currentUser",JSON.stringify(n)),!0}return!1})}logout(){this.currentUser.set(null),this.isLoggedIn.set(!1),localStorage.removeItem("currentUser"),this.router.navigate(["/login"])}isAuthenticated(){return this.isLoggedIn()}delay(t){return new Promise(e=>setTimeout(e,t))}static{this.\u0275fac=function(e){return new(e||r)(a(u))}}static{this.\u0275prov=o({token:r,factory:r.\u0275fac,providedIn:"root"})}}return r})();export{d as a};
